let resizeTimer,reducedMotion=!1;function initHeroAnimations(){createParticlesBackground(),animateHeroTitle(),animateHeroSubtitle(),animateHeroButtons(),init3DHeroCards()}function createParticlesBackground(){const e=document.querySelector(".hero");if(!e)return;let t=document.querySelector(".particles-container");t||(t=document.createElement("div"),t.className="particles-container",t.style.cssText="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            pointer-events: none;\n            z-index: 1;\n        ",e.insertBefore(t,e.firstChild));for(let e=0;e<50;e++){const e=document.createElement("div");e.className="particle";const o=4*Math.random()+2,n=.5*Math.random()+.2,r=100*Math.random(),i=100*Math.random();e.style.cssText=`\n            position: absolute;\n            width: ${o}px;\n            height: ${o}px;\n            background: rgba(0, 163, 255, ${n});\n            border-radius: 50%;\n            left: ${r}%;\n            top: ${i}%;\n        `,t.appendChild(e),gsap.to(e,{y:"random(-200, 200)",x:"random(-100, 100)",duration:"random(3, 6)",repeat:-1,yoyo:!0,ease:"sine.inOut",delay:2*Math.random()})}}function animateHeroTitle(){const e=document.querySelector(".hero-title, .hero h1");if(!e||"undefined"==typeof SplitType)return;const t=new SplitType(e,{types:"chars"});gsap.from(t.chars,{opacity:0,y:50,rotateX:-90,stagger:.02,duration:.8,ease:"back.out(1.7)",delay:.3})}function animateHeroSubtitle(){const e=document.querySelector(".hero-subtitle, .hero p, .hero .subtitle");e&&gsap.from(e,{opacity:0,y:30,duration:1,delay:1,ease:"power2.out"})}function animateHeroButtons(){const e=document.querySelectorAll(".hero .btn, .hero .cta-btn");0!==e.length&&gsap.from(e,{opacity:0,y:30,stagger:.2,duration:.8,delay:1.5,ease:"power2.out"})}function init3DHeroCards(){const e=document.querySelectorAll(".hero-card, .stat-card, .service-card");0!==e.length&&"undefined"!=typeof VanillaTilt&&e.forEach(e=>{VanillaTilt.init(e,{max:15,speed:400,glare:!0,"max-glare":.3,perspective:1e3,scale:1.05})})}function initScrollProgress(){let e=document.querySelector(".scroll-progress");e||(e=document.createElement("div"),e.className="scroll-progress",e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 3px;\n            background: linear-gradient(90deg, var(--primary), var(--accent));\n            transform: scaleX(0);\n            transform-origin: left;\n            z-index: 9999;\n        ",document.body.appendChild(e)),gsap.to(".scroll-progress",{scaleX:1,ease:"none",scrollTrigger:{trigger:"body",start:"top top",end:"bottom bottom",scrub:.3}})}function initAboutAnimations(){const e=document.querySelector(".about-image img, .about img");e&&gsap.to(e,{y:-50,scale:1.1,scrollTrigger:{trigger:".about, .about-section",start:"top bottom",end:"bottom top",scrub:1}}),animateStatsCounters()}function animateStatsCounters(){const e=document.querySelectorAll(".stat-number, .counter, [data-count]");0!==e.length&&e.forEach(e=>{e.textContent.replace(/\D/g,"")&&gsap.from(e,{textContent:0,duration:2,ease:"power1.out",snap:{textContent:1},scrollTrigger:{trigger:e,start:"top 80%",once:!0},onUpdate:function(){e.dataset.suffix&&(e.textContent=Math.ceil(e.textContent)+e.dataset.suffix)}})})}function initProjectsAnimations(){const e=document.querySelectorAll(".project-card, .portfolio-item");0!==e.length&&e.forEach(e=>{gsap.from(e,{opacity:0,y:50,duration:.8,scrollTrigger:{trigger:e,start:"top 85%",once:!0}}),e.addEventListener("mouseenter",()=>{gsap.to(e,{boxShadow:"0 20px 60px rgba(0, 163, 255, 0.4)",y:-10,duration:.3,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",y:0,duration:.3,ease:"power2.out"})})})}function initSkillsAnimations(){const e=document.querySelectorAll(".skill-bar, .progress-bar");0!==e.length&&e.forEach(e=>{e.dataset.progress||e.style.width;gsap.set(e,{scaleX:0,transformOrigin:"left"}),gsap.to(e,{scaleX:1,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%",once:!0}})})}function initCustomCursor(){if(window.innerWidth<768)return;let e=document.querySelector(".cursor-follower");e||(e=document.createElement("div"),e.className="cursor-follower",e.style.cssText="\n            position: fixed;\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            background: var(--accent, #ff6b35);\n            pointer-events: none;\n            z-index: 10000;\n            opacity: 0;\n            mix-blend-mode: difference;\n            transition: width 0.2s, height 0.2s, opacity 0.2s;\n        ",document.body.appendChild(e));let t=0,o=0,n=0,r=0;document.addEventListener("mousemove",n=>{t=n.clientX,o=n.clientY,e.style.opacity="0.5"}),gsap.ticker.add(()=>{n+=.1*(t-n),r+=.1*(o-r),gsap.set(e,{x:n-10,y:r-10})});document.querySelectorAll("a, button, .btn, input, textarea").forEach(t=>{t.addEventListener("mouseenter",()=>{gsap.to(e,{width:40,height:40,duration:.2})}),t.addEventListener("mouseleave",()=>{gsap.to(e,{width:20,height:20,duration:.2})})})}function initMagneticButtons(){const e=document.querySelectorAll(".btn-primary, .cta-btn, .btn-magnetic");0!==e.length&&e.forEach(e=>{e.classList.add("magnetic-active"),e.addEventListener("mousemove",t=>{const o=e.getBoundingClientRect(),n=t.clientX-o.left-o.width/2,r=t.clientY-o.top-o.height/2;gsap.to(e,{x:.3*n,y:.3*r,duration:.4,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{x:0,y:0,duration:.6,ease:"elastic.out(1, 0.5)"})})})}function initGeneralScrollAnimations(){const e=document.querySelectorAll(".animate-on-scroll, [data-animate]");0!==e.length&&e.forEach(e=>{gsap.from(e,{opacity:0,y:50,duration:.8,scrollTrigger:{trigger:e,start:"top 85%",once:!0}})})}document.addEventListener("DOMContentLoaded",()=>{reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,reducedMotion?console.log("Mode animations rÃ©duites activÃ© (prefers-reduced-motion)"):(gsap.registerPlugin(ScrollTrigger),initHeroAnimations(),initScrollProgress(),initAboutAnimations(),initProjectsAnimations(),initSkillsAnimations(),initCustomCursor(),initMagneticButtons(),console.log("âœ… Animations GSAP initialisÃ©es"))}),document.addEventListener("DOMContentLoaded",()=>{reducedMotion||initGeneralScrollAnimations()}),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",e=>{reducedMotion=e.matches,reducedMotion?(gsap.globalTimeline.clear(),ScrollTrigger.getAll().forEach(e=>e.kill()),console.log("Animations dÃ©sactivÃ©es (prefers-reduced-motion)")):location.reload()}),window.addEventListener("load",()=>{reducedMotion||ScrollTrigger.refresh()}),window.addEventListener("resize",()=>{clearTimeout(resizeTimer),resizeTimer=setTimeout(()=>{reducedMotion||ScrollTrigger.refresh()},250)}),console.log("ðŸ“œ animations.js chargÃ© - Sprint 2 GSAP");